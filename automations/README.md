## Automations
I am using a pair of automations with this deepstack-object integration to process images captured at my front door, and my setup is described [in this Hackster article](https://www.hackster.io/robin-cole/add-ai-brains-to-your-home-camera-system-5195b0). I make use of the events generated by the [folder_watcher](https://www.home-assistant.io/integrations/folder_watcher/) integration when new files are created in the filesystem to trigger processing by deepstack and the sending of [notifications](https://companion.home-assistant.io/docs/notifications/notification-attachments).

The first automation is triggered by a PIR on my front door and kicks off a python_script called `capture_timestamped_image.py` to save a time-stamped image from my blink camera mounted at my front door. This image is displayed on a `local_file` camera that is processed by deepstack, and if deepstack detects a person in the image, it saves an annotated image to disk.

The second automation is triggered by the file `created` event that folder_watcher fires when the deepstack annotated image is saved to disck, and kicks off a second python_script called `post_deepstack_image.py` that sends the saved image via telegram. 

**Note** that I am using the `url` of the file as my Home Assistant instance is running in Docker and I cannot use a `file` path.

You might ask why I am using [python_scripts](https://www.home-assistant.io/components/python_script/) rather than keeping all logic within `automations.yaml`. There are 2 reasons. (1) I prefer writing python over yaml, and (2) if is not necessary to do any reloading in HA as changes to `python_scripts` instantly take effect.

## TODO
Simplify automations - saving timestamped image is a nice-to-have, can also drop the python_scripts and purely use automations that can be tweaked via the automations editor.

1) First automation simply causes deepstack to process the image when the image on the camera changes. Since we are using `local_file` camera we can use `folder_watcher` `modified` events to trigger the `scan` service.
2) A second automation simply sends all new deepstack annotated images in notification